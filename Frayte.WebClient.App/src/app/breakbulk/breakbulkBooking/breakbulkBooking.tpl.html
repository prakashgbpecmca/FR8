<!--Breakbulk booking form code-->

<section id="expressBooking-app">
    <div class="panel box-shadow-none">
        <div class="panel-body padding0 form-group">
            <form name="TradelaneBookingForm" ng-submit="PlaceBooking( TradelaneBookingForm , TradelaneBookingForm.$valid, BBKBooking )" novalidate autocomplete="off">
                <div id="top" class="paddingleft paddingright fontsize12">
                    <!--start progress-bar code here-->
                    <section class="affix" data-offset-top="60">
                        <div class="fixe">
                            <!--Progress bar coding start here in five section-->
                            <div>
                                <div class="col-sm-12 paddingleft progress-bar-header form-group" id="scrolled-progress-bar">
                                    <div class="col-sm-4 paddingboth form-group">
                                        <div class="booking1">
                                            <div ng-class="{'progress-bar': shipFormValidation(TradelaneBookingForm)  }">
                                            </div>
                                            <div class="progress-fix"><img class="pointer" ng-class="{'border-black': TradelaneBookingForm.$dirty }" ng-src="{{ImagePath + 'collection_address.png'}}" /></div>
                                            <div class="booking"><span class="ML-4">Shipper Information</span></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 paddingboth form-group">
                                        <div class="booking2">
                                            <div ng-class="{'progress-bar': PurchaseOrderValidation(TradelaneBookingForm)}">
                                            </div>
                                            <div class="progress-fix"><img class="pointer" ng-class="{'border-black': PurchaseOrderValidation(TradelaneBookingForm)}" ng-src="{{ImagePath + 'delivery_address.png'}}" style="right: 3rem !important;" /></div>
                                            <div class="booking"><span class="ML-4">Purchase Orders</span></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 paddingboth form-group">
                                        <div ng-class="{'progress-bar': shipmentDetailValidation(TradelaneBookingForm)}">
                                        </div>
                                        <div class="booking4">
                                            <div class="progress-fix"><img class="pointer" ng-class="{'border-black': serviceOptionValidation(TradelaneBookingForm)}" ng-src="{{ImagePath + 'service_selection.png'}}" style="right: 3rem !important;" /></div>
                                            <div class="booking"><span class="ML-4">Notify Party</span></div>
                                        </div>
                                        <div class="booking5">
                                            <div class="progress-fix"><img class="pointer" ng-class="{'border-black': shipmentDetailValidation(TradelaneBookingForm) }" ng-src="{{ImagePath + 'customs_information.png'}}" style="float:right;left: 1.5rem;top: -4rem !important;" /></div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div ng-class="{'hide-border': shipFormValidation(TradelaneBookingForm) && shipToValidation(TradelaneBookingForm) && notifyPartyValidation(TradelaneBookingForm) && serviceOptionValidation(TradelaneBookingForm) && shipmentDetailValidation(TradelaneBookingForm)  }">
                                        <div class="dashed-border"></div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <!--End Progress bar coding-->
                        </div>
                        <div class="clearfix"></div>
                    </section>
                    <div class="clearfix"></div>
                    <!--end progress-bar code-->
                    <!--start tab code here-->
                    <div class="fontsize12" id="tradelane-booking-zindex">
                        <!-- customer account no. code here-->
                        <section>
                            <div class="col-sm-12 paddingboth clearfix">
                                <div class="col-sm-6  form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.shipmentPaymentAccount.$invalid )&&
                                                         (TradelaneBookingForm.shipmentPaymentAccount.$dirty || submitted) }">
                                    <label for="shipmentPaymentAccount" id="shipmentaccountNo" class="control-label">{{'Payment_Party' | translate}} <span class="redColor">*</span></label>
                                    <div class="col-sm-12 paddingboth form-group clearfix">
                                        <div class="col-sm-10 paddingleft" id="Xe">
                                            <select id="shipmentPaymentAccount" name="shipmentPaymentAccount" class="form-control fontsize12"
                                                    ng-model="PaymentParty"
                                                    ng-change="getconsignmentNo(PaymentParty); careof(PaymentParty.CompanyName); shipmentType(PaymentParty)"
                                                    ng-options=  "payment as payment.CompanyName +' - '+ payment.AccountNumber for payment in payments | orderBy : 'OrderNumber' track by payment.CustomerId " required>
                                                <option value="" disabled="" selected="selected" class="display-none">Select Customer</option>
                                            </select>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipmentPaymentAccount.$invalid &&
                                            (TradelaneBookingForm.shipmentPaymentAccount.$dirty || submitted)">
                                                {{'Payment_required' | translate}}
                                            </span>
                                        </div>
                                        <div class="col-sm-1 estimatedWeight paddingboth">
                                            <a href="" popover-placement="auto" uib-popover='Fill in the Client who will be responsible for the Payment of this Shipment.' popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help right8" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!--<div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.addFactory.$invalid &&
                                             (TradelaneBookingForm.addFactory.$dirty || submitted) }">
                        <label for="addFactory" id="addFactory" class="control-label">Dispatching Factory <span class="redColor">*</span></label>
                        <div class="col-sm-6 paddingboth" id="Xe">
                            <select class="form-control" name="addFactory" ng-model="BBKBooking.FactoryUserId" id="addFactory" required>
                                <option value="0" disabled selected>{{'Select' | translate}} {{'Add_Factory' | translate}} ({{'Required' | translate}})</option>
                                <option value="Shoe Factory">Shoe Factory</option>
                                <option value="Pant Factory">Pant Factory</option>
                            </select>
                            <span class="help-block has-error"
                                  ng-show="TradelaneBookingForm.addFactory.$invalid &&
                                (TradelaneBookingForm.addFactory.$dirty || submitted)">
                                {{'Add_Factory' | translate}} {{'Is' | translate}} {{'Required' | translate}}
                            </span>
                        </div>
                    </div>-->

                                <div class="col-sm-6 paddingboth clearfix">
                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.addFactory.$invalid &&
                                                         (TradelaneBookingForm.addFactory.$dirty || submitted) }">
                                        <label for="addFactory" id="addFactory" class="control-label">Dispatching Factory <span class="redColor">*</span></label>
                                        <div class="col-sm-11 paddingboth form-group">
                                            <select class="form-control fontsize12" id="addFactory" name="addFactory" ng-model="BBKBooking.FactoryUserId" required>
                                                <option value="" disabled selected>{{'Select' | translate}} {{'Dispatching Factory' | translate}} ({{'Required' | translate}})</option>
                                                <option label="Shoe Factory" value="80">Shoe Factory</option>
                                                <option label="Pant Factory" value="5">Pant Factory</option>

                                            </select>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.addFactory.$invalid &&
                                            (TradelaneBookingForm.addFactory.$dirty || submitted)">
                                                {{'Dispatching Factory' | translate}}  {{'Is' | translate}}  {{'Required' | translate}}
                                            </span>
                                        </div>
                                        <div class="col-sm-1 uploadfile paddingboth text-right">
                                            <a href="" popover-placement="auto" uib-popover='Fill in the Client who will be responsible for the Payment of this Shipment.' popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!--end-->
                            </div>
                        </section>
                        <!--end-->
                        <!--first tab code start-->
                        <div class="col-sm-6 paddingleft">
                            <uib-tabset>
                                <!--collection address code here-->
                                <uib-tab class="borderleft2f5f5f5 fontsize12">
                                    <uib-tab-heading class="fontsize10">
                                        <span class="uppercase">Collection Address</span> &nbsp;<span ng-if="shipFormValidation(TradelaneBookingForm)"><img ng-src="{{ImagePath + 'tick-icon.png'}}" class="direct-booking-icon-fix" /></span>
                                    </uib-tab-heading>
                                    <div class="form-group"></div>
                                    <div class="col-sm-12 paddingboth form-group padding5both" ng-class="{'form-group':shipFromDefault}">
                                        <!--start ship from code-->
                                        <div class="col-sm-4 paddingboth">
                                            <h4 class="lineheight024 uppercase">{{'Ship_From' | translate}}<span class="redColor">*</span></h4>
                                        </div>
                                        <div class="col-sm-6 paddingboth" style="margin-top:3px;">
                                            <div class="padding5x4px">
                                                <a class="pointer" ng-click="addressBook('Shipper')">
                                                    <img ng-src="{{photoUrl}}" class="directbookingimg" />
                                                    <small>{{'Address_Book' | translate}}</small>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-sm-1 paddingboth country">
                                            <a ng-if="RoleId !==3 && RoleId !==17" href="" class="padding7px top-1rem" popover-placement="auto" uib-popover="The Address Book is dependent on the Payment Party (Customer) being filled in." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                            <a ng-if="RoleId ===3 || RoleId ===17" href="" class="padding7px top-1rem" popover-placement="auto" uib-popover="The Address Book is the collection of the saved address." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                        <div class="clearfix"></div>
                                        <!--end-->
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth text-danger">
                                        <span><b>Note: </b>Collection address detail will not show on shipment label</span>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.shipFromCountry.$invalid &&
                                                         (TradelaneBookingForm.shipFromCountry.$dirty || submitted) }">
                                        <label for="shipFromCountry" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Country' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth" id="Xe">
                                            <select id="shipFromCountry" name="shipFromCountry" class="form-control fontsize12"
                                                    ng-model="BBKBooking.ShipFrom.Country"
                                                    ng-change="FromCountries(BBKBooking.ShipFrom.Country, PaymentParty); SetShipinfo(BBKBooking.ShipFrom.Country, 'Shipper',''); FromAirport(BBKBooking.ShipFrom.Country.CountryId); GetFromCountryStates(BBKBooking.ShipFrom.Country)"
                                                    ng-options="Country.Name disable when Country.Disabled === true for Country in CountriesRepo | orderBy:'OrderNumber' track by Country.CountryId" required>
                                                <option value="" disabled selected class="display-none">{{'CountrySelectedOption' | translate}}</option>
                                            </select>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromCountry.$invalid &&
                                            (TradelaneBookingForm.shipFromCountry.$dirty || submitted)">
                                                {{'CountryValidationError' | translate}}
                                            </span>
                                        </div>
                                        <div class="col-sm-1 paddingboth country">
                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="China covers Guangdong Province only." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div ng-hide="tradelaneBooking.ShipFrom.Country.Code === 'HKG'" class="col-sm-12 form-group paddingboth  postcode" ng-class="{ 'has-error': TradelaneBookingForm.shipFromPostcode.$invalid &&
                                                         (TradelaneBookingForm.shipFromPostcode.$dirty || submitted) }">
                                        <label for="shipFromPostcode" id="shipFromPostcodeLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'PostalCode' | translate}} <span class="redColor">*</span></label>
                                        <div id="scrollable-dropdown-menu" class="col-sm-6 paddingboth typeahead-demo">
                                            <i ng-if="tradelaneBooking.ShipFrom.Country.Code === 'GBR'" class="fa fa-search search-right-fixed" aria-hidden="true"></i>
                                            <input type="text" id="shipFromPostcode" name="shipFromPostcode"
                                                   ng-model="BBKBooking.ShipFrom.PostCode"
                                                   ng-class="{'padding-left25': tradelaneBooking.ShipFrom.Country.Code === 'GBR'}" class="form-control fontsize12"
                                                   ng-blur="SetPostCodeAddressValue('Shipper')"
                                                   ng-readonly="disabled"
                                                   ng-required="tradelaneBooking.ShipFrom.Country.Code !== 'HKG'"
                                                   placeholder="{{'PostalCode' | translate}} ({{'Required' | translate}})"
                                                   maxlength="{{MaximamLengthShipFrom}}"
                                                   typeahead-on-select="onSelectPostCode($item, $model, $label, $event,tradelaneBooking.ShipFrom.PostCode ,'Shipper' )"
                                                   uib-typeahead="frayteUser as frayteUser.FillPostCodeInput for frayteUser in GetPostCodeAddress($viewValue, tradelaneBooking.ShipFrom.Country.Code2 , 'Shipper') | limitTo:20"
                                                   uib-typeahead-min-length="6" uppercased />

                                            <div ng-show="PostCodeAddressValue && !TradelaneBookingForm.shipFromPostcode.$invalid">
                                                <span class="error-color">{{'NoResult_Postcode' | translate}}</span>
                                            </div>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromPostcode.$invalid &&
                                            (TradelaneBookingForm.shipFromPostcode.$dirty || submitted)">
                                                {{'PostalCodeValidationError' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.departureAirPort.$invalid &&
                                                         (TradelaneBookingForm.departureAirPort.$dirty || submitted) }">
                                        <label class="control-label col-sm-4 lineheight24 paddingboth" for="departureAirPort">{{'Departure_Airport' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <div id="Xe">
                                                <select id="departureAirPort" name="departureAirPort" class="form-control fontsize12"
                                                        ng-model="BBKBooking.ShipFrom.Airport"
                                                        ng-options="Airport as Airport.AirportCode + ' - ' + Airport.AirportName for Airport in departairport | orderBy : 'AirportName' track by Airport.AirportCodeId " required>
                                                <option value="" disabled selected>{{'Select' | translate}} {{'Departure_Airport' | translate}} ({{'Required' | translate}})</option>
                                                </select>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.departureAirPort.$invalid &&
                                            (TradelaneBookingForm.departureAirPort.$dirty || submitted)">
                                                    {{'Departure_Airport' | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                </span>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 directBookingBorder"></div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromCompanyName.$invalid &&
                                                         (TradelaneBookingForm.shipFromCompanyName.$dirty || submitted) }">
                                        <label for="shipFromCompanyName" id="shipFromCompanyNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Company_Name' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <input type="text" name="shipFromCompanyName" id="shipFromCompanyName" data-panel="Collection Address" data-label="Ship From Company" maxlength="100"
                                                   capitalize-first
                                                   ng-model="BBKBooking.ShipFrom.CompanyName" class="form-control fontsize12" placeholder="{{'Company_Name' | translate}} ({{'Required' | translate}})" required />
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromCompanyName.$invalid &&
                                            (TradelaneBookingForm.shipFromCompanyName.$dirty || submitted)">
                                                {{'CompanyNameValidationError' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromFirstName.$invalid &&
                                                         (TradelaneBookingForm.shipFromFirstName.$dirty || submitted) }">
                                        <label for="shipFromFirstName" id="shipFromFirstNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Contact_First_Name' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <input type="text" maxlength="50" name="shipFromFirstName" id="shipFromFirstName" only-letters-input data-panel="Collection Address" data-label="Ship From Company"
                                                   capitalize-first ng-model="BBKBooking.ShipFrom.ContactFirstName" class="form-control fontsize12" required placeholder="{{'Contact_First_Name' | translate}} ({{'Required' | translate}})" />
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromFirstName.$invalid &&
                                            (TradelaneBookingForm.shipFromFirstName.$dirty || submitted)">
                                                {{'FirstName_Required' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromLastName.$invalid &&
                                                         (TradelaneBookingForm.shipFromLastName.$dirty || submitted) }">
                                        <label for="shipFromLastName" id="shipFromFirstNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Contact_Last_Name' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <input type="text" name="shipFromLastName" id="shipFromLastName" only-letters-input maxlength="50"
                                                   capitalize-first ng-model="BBKBooking.ShipFrom.ContactLastName" class="form-control fontsize12" required placeholder="{{'Contact_Last_Name' | translate}} ({{'Required' | translate}})" />
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromLastName.$invalid &&
                                            (TradelaneBookingForm.shipFromLastName.$dirty || submitted)">
                                                {{'LastName_Required' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 directBookingBorder"></div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromAddress1.$invalid &&
                                                         (TradelaneBookingForm.shipFromAddress1.$dirty || submitted) }">
                                        <label for="shipFromAddress1" id="shipFromAddress1Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_1' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <textarea name="shipFromAddress1" id="shipFromAddress1"
                                                      capitalize-first maxlength="100" ng-model="BBKBooking.ShipFrom.Address1" class="form-control fontsize12" required rows="3" cols="4" placeholder="{{'Address_1' | translate}} ({{'Required' | translate}})"></textarea>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromAddress1.$invalid &&
                                            (TradelaneBookingForm.shipFromAddress1.$dirty || submitted)">
                                                {{'AddressValidationError' | translate}}
                                            </span>
                                            <span class="has-error error-color" ng-if="tradelaneBooking.ShipFrom.Address.length > 99">
                                                {{'Max100Character_Entered' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth">
                                        <label for="shipFromAddress2" id="shipFromAddress2Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_2' | translate}}</label>
                                        <div class="col-sm-6 paddingboth">
                                            <textarea name="shipFromAddress2" id="shipFromAddress2" maxlength="100"
                                                      capitalize-first ng-model="BBKBooking.ShipFrom.Address2" class="form-control fontsize12" rows="3" cols="4" placeholder="{{'Address_2' | translate}}"></textarea>
                                            <span class="has-error error-color" ng-if="tradelaneBooking.ShipFrom.Address2.length > 99">
                                                {{'Max100Character_Entered' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromCityName.$invalid &&
                                                         (TradelaneBookingForm.shipFromCityName.$dirty || submitted) }">
                                        <label for="shipFromCityName" id="shipFromCityNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'City' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <input type="text" name="shipFromCityName" id="shipFromCityName" only-alphabets maxlength="50"
                                                   capitalize-first ng-model="BBKBooking.ShipFrom.City" class="form-control fontsize12" required placeholder="{{'City' | translate}} ({{'Required' | translate}})" />
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromCityName.$invalid &&
                                            (TradelaneBookingForm.shipFromCityName.$dirty || submitted)">
                                                {{'CityValidationError' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth">
                                        <div ng-if="BBKBooking.ShipFrom.Country.Code === 'CAN' || BBKBooking.ShipFrom.Country.Code === 'USA' || BBKBooking.ShipFrom.Country.Code === 'AUS'" ng-class="{ 'has-error': TradelaneBookingForm.shipFromCountryState.$invalid &&
                                                         (TradelaneBookingForm.shipFromCountryState.$dirty || submitted) }">
                                            <label for="shipFromState" id="shipFromStateLabel" name="shipFromCountryState" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'State' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth" id="Xe">
                                                <select type="text" id="shipFromCountryState" name="shipFromCountryState"
                                                        ng-model="BBKBooking.ShipFrom.State"
                                                        ng-options="Country.State as Country.State for Country in CountryFromStateList"
                                                        class="form-control fontsize12" required>
                                                    <option value="" disabled selected class="display-none">{{'StateSelectedOption' | translate}}</option>

                                                </select>

                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipFromCountryState.$invalid &&
                                                           (TradelaneBookingForm.shipFromCountryState.$dirty || submitted)">
                                                    {{'CountryStateValidationError' | translate}}
                                                </span>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div ng-show="shipFromOptionalField('State')" ng-class="{ 'has-error': TradelaneBookingForm.shipFromState.$invalid &&
                                                         (TradelaneBookingForm.shipFromState.$dirty || submitted) }">
                                            <label for="shipFromState" id="shipToStateLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'State' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipFromState" id="shipFromState" maxlength="50"
                                                       ng-disabled="BBKBooking.ShipFrom.Country !== null && (BBKBooking.ShipFrom.Country.Code === 'GBR' || BBKBooking.ShipFrom.Country.Code === 'HKG') "
                                                       ng-required="shipFromOptionalField('State')" capitalize-first ng-model="BBKBooking.ShipFrom.State" class="form-control fontsize12" placeholder="{{'State' | translate}}" />
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipFromState.$invalid &&
                                                           (TradelaneBookingForm.shipFromState.$dirty || submitted)">
                                                    {{'CountryStateValidationError' | translate}}
                                                </span>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth">
                                        <label for="shipFromAreaName" id="shipFromAreaNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Area' | translate}}</label>
                                        <div class="col-sm-6 paddingboth">
                                            <input type="text" name="shipFromAreaName" id="shipFromAreaName" maxlength="100"
                                                   capitalize-first ng-model="BBKBooking.ShipFrom.Area" class="form-control fontsize12" placeholder="{{'Area' | translate}}" />
                                        </div>
                                        <div class="col-sm-1 paddingboth area">
                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="Area is like a Suburb" popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 directBookingBorder"></div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipFromPhone.$invalid &&
                                                         (TradelaneBookingForm.shipFromPhone.$dirty || submitted) }">
                                        <label for="shipFromPhone" id="shipFromPhoneLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'TelephoneNo' | translate}} <span class="redColor">*</span></label>
                                        <div class="col-sm-6 paddingboth">
                                            <div class="col-sm-4 paddingleft">
                                                <input type="text" class="form-control fontsize12" readonly ng-model="ShipFromPhoneCode" />
                                            </div>
                                            <div class="col-sm-8 paddingboth">
                                                <input type="text" name="shipFromPhone" id="shipFromPhone" maxlength="11"
                                                       only-Numeric ng-model="BBKBooking.ShipFrom.PhoneNo" class="form-control fontsize12" required placeholder="{{'TelephoneNo' | translate}} ({{'Required' | translate}})" />
                                            </div>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromPhone.$invalid &&
                                            (TradelaneBookingForm.shipFromPhone.$dirty || submitted)">
                                                {{'TelephoneValidationError' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.shipFromMail.$invalid &&
                                                         (TradelaneBookingForm.shipFromMail.$dirty || submitted)) }">
                                        <label for="shipFromMail" id="shipFromMailLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Send_Alert_Email' | translate}}</label>
                                        <div class="col-sm-6 paddingboth">
                                            <textarea cols="3" rows="3" name="shipFromMail" id="shipFromMail" ng-change="ValidateFromEmail(BBKBooking.ShipFrom.AlertEmail)"
                                                      ng-model="BBKBooking.ShipFrom.AlertEmail" class="form-control fontsize12" ng-required="tradelaneBooking.ShipFrom.IsMailSend" placeholder="{{'Send_Shipment_Details' | translate}}"></textarea>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromMail.$error.required &&
                                                    (TradelaneBookingForm.shipFromMail.$dirty || submitted)">
                                                {{'EmailValidationError' | translate}}
                                            </span>
                                            <span class="help-block has-error"
                                                  ng-show="TradelaneBookingForm.shipFromMail.$error.required &&
                                                    (TradelaneBookingForm.shipFromMail.$dirty || submitted) || frompattern">
                                                {{'EmailNotValid' | translate}}
                                            </span>
                                        </div>
                                        <div class="col-sm-1 paddingboth sendEmail">
                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="If required, please enter the email address of the person you wish to receive this shipments details once booked." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </uib-tab>
                                <!--end-->
                                <!--consignee information code here-->
                                <uib-tab class="tabBorder fontsize12">
                                    <uib-tab-heading class="fontsize10 text-uppercase">
                                        {{'Delivery_Address' | translate}} &nbsp;<span ng-if="shipToValidation(TradelaneBookingForm)"><img ng-src="{{ImagePath + 'tick-icon.png'}}" class="direct-booking-icon-fix" /></span>
                                    </uib-tab-heading>
                                    <div class="form-group"></div>
                                    <div class="col-sm-12 paddingboth padding5both" ng-class="{'form-group':!shipToDefaultAddress}">
                                        <!--start ship to code-->
                                        <div class="col-sm-4 paddingboth">
                                            <h4 class="lineheight024 uppercase">{{'Ship_To' | translate}}</h4>
                                        </div>
                                        <div class="col-sm-6 paddingboth" style="margin-top:3px;">
                                            <div class="padding5x4px">
                                                <a class="pointer" ng-click="addressBook('Receiver')">
                                                    <img ng-src="{{photoUrl}}" class="directbookingimg" />
                                                    <small>{{'Address_Book' | translate}}</small>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-sm-1 paddingboth country">
                                            <a ng-if="RoleId !==3 && RoleId !==17" href="" class="padding7px top-1rem" popover-placement="auto" uib-popover="The Address Book is dependent on the Payment Party (Customer) being filled in." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                            <a ng-if="RoleId ===3 || RoleId ===17" href="" class="padding7px top-1rem" popover-placement="auto" uib-popover="The Address Book is the collection of the saved address." popover-trigger="'outsideClick'">
                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                        <div class="clearfix"></div>
                                        <!--end-->
                                    </div>
                                    <!--set as default code-->
                                    <div class="col-sm-12 paddingboth form-group" ng-show="shipToDefaultAddress">
                                        <div class="col-sm-6 col-sm-offset-4 paddingboth">
                                            <div class="checkbox">
                                                <label><input type="checkbox" ng-model="directBooking.ShipTo.IsDefaultAddess" name="setAsDefault" id="setAsDefault" /> {{'Set_As_Default' | translate}}</label>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <!--end-->
                                    <div class="col-sm-12 paddingboth">
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToCountry.$invalid &&
                                                         (TradelaneBookingForm.shipToCountry.$dirty || submitted) }">
                                            <label for="shipToCountry" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Country' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth" id="Xe">
                                                <select id="shipToCountry" name="shipToCountry" class="form-control fontsize12" 
                                                        ng-model="BBKBooking.ShipTo.Country" ng-change="ToCountries(BBKBooking.ShipTo.Country); SetShipinfo(BBKBooking.ShipTo.Country, 'Receiver',''); GetCountryStates(BBKBooking.ShipTo.Country)"
                                                        ng-options="Country.Name disable when Country.Disabled === true for Country in CountriesRepo | orderBy:'OrderNumber' track by Country.CountryId" required>
                                                    <option value="" disabled selected class="display-none">{{'CountrySelectedOption' | translate}}</option>
                                                </select>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToCountry.$invalid &&
                                            (TradelaneBookingForm.shipToCountry.$dirty || submitted)">
                                                    {{'CountryValidationError' | translate}}
                                                </span>
                                            </div>
                                            <div class="col-sm-1 paddingboth country">
                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="China covers Guangdong Province only." popover-trigger="'outsideClick'">
                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="postcode">
                                            <div ng-hide="directBooking.ShipTo.Country.Code === 'HKG'" class="col-sm-12 form-group paddingboth typeahead-demo" ng-class="{ 'has-error': TradelaneBookingForm.shipToPostcode.$invalid &&
                                                         (TradelaneBookingForm.shipToPostcode.$dirty || submitted) }">
                                                <label for="shipToPostcode" id="shipToPostcodeLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'PostalCode' | translate}} <span class="redColor">*</span></label>
                                                <div id="scrollable-dropdown-menu" class="col-sm-6 paddingboth">
                                                    <i ng-if="directBooking.ShipTo.Country.Code === 'GBR'" class="fa fa-search search-right-fixed" aria-hidden="true"></i>
                                                    <input type="text" id="shipToPostcode" name="shipToPostcode" ng-model="BBKBooking.ShipTo.PostCode" ng-class="{'padding-left25': directBooking.ShipTo.Country.Code === 'GBR'}" class="form-control fontsize12"
                                                           ng-disabled="" ng-readonly="directBooking.CustomerRateCard.LogisticServiceId > 0 && directBooking.ShipTo.Country.Code === 'GBR'"
                                                           ng-blur="SetPostCodeNotfoundValidation(ShipperPostCodeAddressValue)"
                                                           ng-required="directBooking.ShipTo.Country.Code !== 'HKG'" placeholder="{{'PostalCode' | translate}} ({{'Required' | translate}})"
                                                           maxlength="{{MaximamLengthShipTo}}"
                                                           uib-typeahead="frayteUser as frayteUser.FillPostCodeInput for frayteUser in ShiperGetPostCodeAddress($viewValue)"
                                                           uib-typeahead-min-length="6" uppercased />
                                                    <div ng-show="ShipperPostCodeAddressValue && !DirectBookingForm.shipToPostcode.$invalid">
                                                        <span class="error-color">{{'NoResult_Postcode' | translate}}</span>
                                                    </div>
                                                    <span class="help-block has-error"
                                                          ng-show="TradelaneBookingForm.shipToPostcode.$invalid &&
                                            (TradelaneBookingForm.shipToPostcode.$dirty || submitted)">
                                                        {{'PostalCodeValidationError' | translate}}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder"></div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="shipToCompanyName" id="shipToCompanyNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Company_Name' | translate}} </label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipToCompanyName" id="shipToCompanyName" maxlength="100"
                                                       capitalize-first ng-model="BBKBooking.ShipTo.CompanyName" class="form-control fontsize12" placeholder="{{'Company_Name' | translate}}" />
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToFirstName.$invalid &&
                                                         (TradelaneBookingForm.shipToFirstName.$dirty || submitted) }">
                                            <label for="shipToFirstName" id="shipToFirstNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Contact_First_Name' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipToFirstName" id="shipToFirstName" only-alphabets maxlength="50"
                                                       capitalize-first ng-model="BBKBooking.ShipTo.ContactFirstName" class="form-control fontsize12" required placeholder="{{'Contact_First_Name' | translate}} ({{'Required' | translate}})" />
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToFirstName.$invalid &&
                                            (TradelaneBookingForm.shipToFirstName.$dirty || submitted)">
                                                    {{'FirstName_Required' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToLastName.$invalid &&
                                                         (TradelaneBookingForm.shipToLastName.$dirty || submitted) }">
                                            <label for="shipToLastName" id="shipToFirstNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Contact_Last_Name' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipToLastName" id="shipToLastName" only-alphabets maxlength="50"
                                                       capitalize-first ng-model="BBKBooking.ShipTo.ContactLastName" class="form-control fontsize12" required placeholder="{{'Contact_Last_Name' | translate}} ({{'Required' | translate}})" />
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToLastName.$invalid &&
                                            (TradelaneBookingForm.shipToLastName.$dirty || submitted)">
                                                    {{'LastName_Required' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder"></div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToAddress1.$invalid &&
                                                         (TradelaneBookingForm.shipToAddress1.$dirty || submitted) }">
                                            <label for="shipToAddress1" id="shipToAddress1Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_1' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <textarea name="shipToAddress1" id="shipToAddress1" maxlength="35"
                                                          capitalize-first ng-model="BBKBooking.ShipTo.Address1" class="form-control fontsize12" rows="3" cols="4" required placeholder="{{'Address_1' | translate}} ({{'Required' | translate}})"></textarea>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToAddress1.$invalid &&
                                                               (TradelaneBookingForm.shipToAddress1.$dirty || submitted)">
                                                    {{'AddressValidationError' | translate}}
                                                </span>
                                                <span class="has-error error-color" ng-if="TradelaneBookingForm.ShipTo.Address.length > 34">
                                                    {{'Max_Address1_Lenght' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="shipToAddress2" id="shipToAddress2Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_2' | translate}}</label>
                                            <div class="col-sm-6 paddingboth">
                                                <textarea name="shipToAddress2" id="shipToAddress2" maxlength="35"
                                                          capitalize-first ng-model="BBKBooking.ShipTo.Address2" class="form-control fontsize12" rows="3" cols="4" placeholder="{{'Address_2' | translate}}"></textarea>
                                                <span class="has-error error-color" ng-if="directBooking.ShipTo.Address2.length > 34">
                                                    {{'Max_Address2_Lenght' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToCityName.$invalid &&
                                                         (TradelaneBookingForm.shipToCityName.$dirty || submitted) }">
                                            <label for="shipToCityName" id="shipToCityNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'City' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipToCityName" id="shipToCityName" only-alphabets maxlength="50"
                                                       capitalize-first ng-model="BBKBooking.ShipTo.City" class="form-control fontsize12" required placeholder="{{'City' | translate}} ({{'Required' | translate}})" />
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToCityName.$invalid &&
                                            (TradelaneBookingForm.shipToCityName.$dirty || submitted)">
                                                    {{'CityValidationError' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <div ng-if="BBKBooking.ShipTo.Country.Code === 'CAN' || BBKBooking.ShipTo.Country.Code === 'USA' || BBKBooking.ShipTo.Country.Code === 'AUS'" ng-class="{ 'has-error': TradelaneBookingForm.shipToCountryState.$invalid &&
                                                         (TradelaneBookingForm.shipToCountryState.$dirty || submitted) }">
                                                <label for="shipToCountryState" id="shipToCountryStateLabel" name="shipToCountryState" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'State' | translate}} <span class="redColor">*</span></label>
                                                <div class="col-sm-6 paddingboth" id="Xe">
                                                    <select type="text" id="shipToCountryState" name="shipToCountryState"
                                                            ng-model="BBKBooking.ShipTo.State"
                                                         ng-change="HUBAddress('Receiver')"
                                                            ng-options="Country.State as Country.StateDisplay for Country in CountryStateList"
                                                            class="form-control fontsize12" required>
                                                        <option value="" disabled selected class="display-none">{{'StateSelectedOption' | translate}}</option>

                                                    </select>

                                                    <span class="help-block has-error"
                                                          ng-show="TradelaneBookingForm.shipToCountryState.$invalid &&
				                                               (TradelaneBookingForm.shipToCountryState.$dirty || submitted)">
                                                        {{'CountryStateValidationError' | translate}}
                                                    </span>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div ng-show="shipToOptionalField('State') === true" ng-class="{ 'has-error': TradelaneBookingForm.shipToState.$invalid &&
                                                         (TradelaneBookingForm.shipToState.$dirty || submitted) }">
                                                <label for="shipToState" id="shipToStateLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'State' | translate}} <span class="redColor">*</span></label>
                                                <div class="col-sm-6 paddingboth">
                                                    <input type="text" name="shipToState" id="shipToState" maxlength="50"
                                                           ng-required="shipToOptionalField('State')" ng-disabled="BBKBooking.ShipTo.Country !== null && (BBKBooking.ShipTo.Country.Code === 'GBR' || BBKBooking.ShipTo.Country.Code === 'HKG')"
                                                           capitalize-first ng-model="BBKBooking.ShipTo.State" class="form-control fontsize12" placeholder="{{'State' | translate}}" />
                                                    <span class="help-block has-error"
                                                          ng-show="TradelaneBookingForm.shipToState.$invalid &&
				                                               (TradelaneBookingForm.shipToState.$dirty || submitted)">
                                                        {{'CountryStateValidationError' | translate}}
                                                    </span>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="shipToAreaName" id="shipToAreaNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Area' | translate}}</label>
                                            <div class="col-sm-6 paddingboth">
                                                <input type="text" name="shipToAreaName" id="shipToAreaName" maxlength="100"
                                                       capitalize-first ng-model="BBKBooking.ShipTo.Area" class="form-control fontsize12" placeholder="{{'Area' | translate}}" />
                                            </div>
                                            <div class="col-sm-1 paddingboth area">
                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="Area is like a Suburb" popover-trigger="'outsideClick'">
                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder"></div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.shipToPhone.$invalid &&
                                                         (TradelaneBookingForm.shipToPhone.$dirty || submitted) }">
                                            <label for="shipToPhone" id="shipToPhoneLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'TelephoneNo' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-6 paddingboth">
                                                <div class="col-sm-4 paddingleft">
                                                    <input type="text" class="form-control fontsize12" readonly ng-model="ShipToPhoneCode" />
                                                </div>
                                                <div class="col-sm-8 paddingboth">
                                                    <input type="text" name="shipToPhone" id="shipToPhone" only-numeric
                                                           maxlength="10" ng-model="BBKBooking.ShipTo.PhoneNo" class="form-control fontsize12" required placeholder="{{'TelephoneNo' | translate}} ({{'Required' | translate}})" />
                                                </div>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToPhone.$invalid &&
                                            (TradelaneBookingForm.shipToPhone.$dirty || submitted)">
                                                    {{'TelephoneValidationError' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.shipToMail.$invalid &&
                                                         (TradelaneBookingForm.shipToMail.$dirty || submitted)) }">
                                            <label for="shipToMail" id="shipToMailLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Send_Alert_Email' | translate}}</label>
                                            <div class="col-sm-6 paddingboth">
                                                <textarea cols="3" rows="3" ng-change="ValidateToEmail(BBKBooking.ShipTo.AlertEmail)" name="shipToMail" id="shipToMail"
                                                          ng-model="BBKBooking.ShipTo.AlertEmail" ng-required="tradelaneBooking.ShipTo.IsMailSend" class="form-control fontsize12" placeholder="{{'Send_Shipment_Details' | translate}}"></textarea>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToMail.$error.required &&
                                                        (TradelaneBookingForm.shipToMail.$dirty || submitted)">
                                                    {{'EmailValidationError' | translate}}
                                                </span>
                                                <span class="help-block has-error"
                                                      ng-show="TradelaneBookingForm.shipToMail.$error.required &&
                                                        (TradelaneBookingForm.shipToMail.$dirty || submitted) || topattern">
                                                    {{'EmailNotValid' | translate}}
                                                </span>
                                            </div>
                                            <div class="col-sm-1 paddingboth sendEmail">
                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="If required, please enter the email address of the person you wish to receive this shipments details once booked." popover-trigger="'outsideClick'">
                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </uib-tab>
                                <!--end-->
                                <!--hub address code here-->
                                <uib-tab class="tabBorder fontsize12">
                                    <uib-tab-heading class="fontsize10">
                                        <span class="text-uppercase">{{'Dest_Hub_Add' | translate}}</span> &nbsp;<span ng-if="hubAddress.Country.CountryId"><img ng-src="{{ImagePath + 'tick-icon.png'}}" class="direct-booking-icon-fix" /></span>
                                    </uib-tab-heading>
                                    <div class="form-group"></div>
                                    <div class="text-danger text-left border padding-10 col-sm-11 form-group">
                                        <b>{{'Note' | translate}}:</b> <span>{{'Hub_Detail__showOn_shipment_Label' | translate}}</span>
                                    </div>
                                    <div class="col-sm-12 paddingboth">
                                        <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': ExpressBookingForm.shipToCountry.$invalid &&
                                                         (ExpressBookingForm.shipToCountry.$dirty || submitted) }">
                                            <label for="shipToCountry" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Country' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-7 paddingboth" id="Xe">
                                                <select id="shipToCountry" name="hubCountry"
                                                        ng-model="hubAddress.Country"
                                                        ng-options="Country.Name disable when Country.Disabled === true for Country in CountriesRepo | orderBy:'OrderNumber' track by Country.CountryId" class="form-control fontsize12" disabled readonly>
                                                    <option value="" disabled selected class="display-none">{{'CountrySelectedOption' | translate}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="postcode">
                                            <div class="col-sm-12 form-group paddingboth typeahead-demo">
                                                <label for="hubPostcode" id="hubPostcodeLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'PostalCode' | translate}} <span class="redColor">*</span></label>
                                                <div id="scrollable-dropdown-menu" class="col-sm-7 paddingboth">
                                                    <i ng-if="expressBooking.ShipTo.Country.Code === 'GBR'" class="fa fa-search search-right-fixed" aria-hidden="true"></i>
                                                    <input type="text" id="hubPostcode" name="hubPostcode" ng-model="hubAddress.PostCode" ng-class="{'padding-left25': expressBooking.ShipTo.Country.Code === 'GBR'}" class="form-control fontsize12"
                                                           ng-disabled=""
                                                           placeholder="{{'PostalCode' | translate}} ({{'Required' | translate}})" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder" style="width:92%"></div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="shipToCompanyName" id="shipToCompanyNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Company_Name' | translate}} </label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="hubCompanyName" id="shipToCompanyName" maxlength="100"
                                                       capitalize-first ng-model="hubAddress.CompanyName" class="form-control fontsize12" placeholder="{{'Company_Name' | translate}}" readonly />
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="careOf" id="careOf" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Care_Of' | translate}} </label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="careOf" id="careOf" class="form-control fontsize12" ng-model="BBKBooking.Careof" placeholder="{{'Care_Of' | translate}}" readonly />
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder" style="width:92%"></div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubAddress1" id="hubAddress1Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_1' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-7 paddingboth">
                                                <textarea name="hubAddress1" id="hubAddress1" capitalize-first ng-model="hubAddress.Address1" class="form-control fontsize12" rows="3" cols="4" placeholder="{{'Address_1' | translate}} ({{'Required' | translate}})" readonly></textarea>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubAddress2" id="hubAddress2Label" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Address_2' | translate}}</label>
                                            <div class="col-sm-7 paddingboth">
                                                <textarea name="hubAddress2" id="hubAddress2" maxlength="35" capitalize-first ng-model="hubAddress.Address2" class="form-control fontsize12" rows="3" cols="4" placeholder="{{'Address_2' | translate}}" readonly></textarea>
                                                <span class="has-error error-color" ng-if="expressBooking.ShipTo.Address2.length > 34">
                                                    {{'Max_Address2_Lenght' | translate}}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="shipToCityName" id="hubCityNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'City' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="hubCityName" id="hubCityName" only-alphabets maxlength="50"
                                                       capitalize-first ng-model="hubAddress.City" class="form-control fontsize12" placeholder="{{'City' | translate}} ({{'Required' | translate}})" readonly />
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubState" id="hubStateLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'State' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="hubState" id="hubState" maxlength="50"
                                                       capitalize-first ng-model="hubAddress.State" class="form-control fontsize12" placeholder="{{'State' | translate}}" readonly />
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubAreaName" id="hubAreaNameLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Area' | translate}}</label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="hubAreaName" id="shipToAreaName" maxlength="100"
                                                       capitalize-first ng-model="hubAddress.Area" class="form-control fontsize12" placeholder="{{'Area' | translate}}" readonly />
                                            </div>
                                            <div class="col-sm-1 paddingboth area">
                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="Area is like a Suburb" popover-trigger="'outsideClick'">
                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 directBookingBorder" style="width:92%"></div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubPhone" id="hubPhoneLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'TelephoneNo' | translate}} <span class="redColor">*</span></label>
                                            <div class="col-sm-7 paddingboth">
                                                <div class="col-sm-4 paddingleft">
                                                    <input type="text" class="form-control fontsize12" readonly ng-model="ShipToPhoneCode" />
                                                </div>
                                                <div class="col-sm-8 paddingboth">
                                                    <input type="text" name="hubPhone" id="hubPhone" only-numeric
                                                           maxlength="10" ng-model="hubAddress.PhoneNo" class="form-control fontsize12" placeholder="{{'TelephoneNo' | translate}} ({{'Required' | translate}})" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group paddingboth">
                                            <label for="hubMail" id="hubMailMailLabel" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Send_Alert_Email' | translate}}</label>
                                            <div class="col-sm-7 paddingboth">
                                                <input type="text" name="hubMailMail" id="hubMailMail" maxlength="100"
                                                       ng-model="hubAddress.AlertEmail" class="form-control fontsize12" placeholder="{{'Send_Shipment_Details' | translate}}" readonly />
                                            </div>
                                        </div>
                                    </div>
                                </uib-tab>
                                <!--end-->
                            </uib-tabset>
                        </div>
                        <!--end-->
                        <!--second tab code start-->
                        <div class="col-sm-6 paddingleft paddingright">
                            <uib-tabset>
                                <!--purchase order code here-->
                                <uib-tab class="tabBorder fontsize12">
                                    <uib-tab-heading class="fontsize10">
                                        <span class="uppercase">{{'Purchase_Order' | translate}}</span> &nbsp;<span ng-if="PurchaseOrderValidation(TradelaneBookingForm)"><img ng-src="{{ImagePath + 'tick-icon.png'}}" class="direct-booking-icon-fix" /></span>
                                    </uib-tab-heading>
                                    <div class="form-group"></div>
                                    <section>
                                        <div class="clearfix"></div>
                                        <section>
                                            <div>
                                                <div class="col-sm-12 paddingboth">
                                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.poNumber.$invalid &&
                                                         (TradelaneBookingForm.poNumber.$dirty || submitted)) }">
                                                        <label for="poNumber" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'PO_Number' | translate}} <span class="redColor">*</span></label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <input type="text" class="form-control" name="poNumber" only-Numeric ng-model="BBKBooking.PurchaseOrder.PONumber" id="poNumber" maxlength="50" placeholder="{{'PO_Number' | translate}} ({{'Required' | translate}})"  required />
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.poNumber.$invalid &&
                                            (TradelaneBookingForm.poNumber.$dirty || submitted)">
                                                                {{'PO_Number'  | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                            </span>
                                                        </div>
                                                        <div class="col-sm-1 paddingboth country">
                                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="Purchase Order (PO) Number" popover-trigger="'outsideClick'">
                                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.styleNumber.$invalid &&
                                                         (TradelaneBookingForm.styleNumber.$dirty || submitted)) }">
                                                        <label for="styleNumber" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Style_Number' | translate}} <span class="redColor">*</span></label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <input type="text" class="form-control" name="styleNumber" maxlength="20" only-Numeric ng-model="BBKBooking.PurchaseOrder.StyleNumber" id="styleNumber" placeholder="{{'Style_Number' | translate}} ({{'Required' | translate}})" required />
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.styleNumber.$invalid &&
                                            (TradelaneBookingForm.styleNumber.$dirty || submitted)">
                                                                {{'Style_Number'  | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.styleName.$invalid &&
                                                         (TradelaneBookingForm.styleName.$dirty || submitted)) }">
                                                        <label for="styleName" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Style_Name' | translate}} <span class="redColor">*</span></label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <input type="text" class="form-control" name="styleName" maxlength="50" ng-model="BBKBooking.PurchaseOrder.StyleName" id="styleName" placeholder="{{'Style_Name' | translate}} ({{'Required' | translate}})" required />
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.styleName.$invalid &&
                                            (TradelaneBookingForm.styleName.$dirty || submitted)">
                                                                {{'Style_Name'  | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 directBookingBorder" style="width:92%"></div>
                                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': (TradelaneBookingForm.consignmentNo.$invalid &&
                                                         (TradelaneBookingForm.consignmentNo.$dirty || submitted)) }">
                                                        <label for="consignmentNo" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Consignment_No' | translate}} <span class="redColor">*</span></label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <input type="text" class="form-control" name="consignmentNo" id="consignmentNo" readonly ng-model="BBKBooking.PurchaseOrder.ConsignmentNumber" ui-mask="999 999 999 999" placeholder="XXX XXX XXX XXX" ui-mask-placeholder-char=" " required />
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.consignmentNo.$invalid &&
                                            (TradelaneBookingForm.consignmentNo.$dirty || submitted)">
                                                                {{'Consignment_No'  | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.shipmentType.$invalid &&
                                                         (TradelaneBookingForm.shipmentType.$dirty || submitted) }">
                                                        <div class="clearfix">
                                                            <label for="shipmentType" class="col-sm-4 lineheight24 control-label paddingboth">{{'Shipment_Type' | translate}} <span class="redColor">*</span></label>
                                                            <div class="col-sm-7 paddingboth">

                                                                <select class="form-control" name="shipmentType" id="shipmentType"
                                                                        ng-model="BBKBooking.PurchaseOrder.ShipmentType"
                                                                        ng-options="ShipmentType as ShipmentType.ShipmentHandlerMethodDisplay for ShipmentType in ShipmentMethod | orderBy:'OrderNumber' track by ShipmentType.ShipmentHandlerMethodId" required>
                                                                    <option value="" disabled selected>{{'Select' | translate}} {{'Shipment_Type' | translate}} ({{'Required' | translate}})</option>
                                                                </select>
                                                                <span class="help-block has-error"
                                                                      ng-show="TradelaneBookingForm.shipmentType.$invalid &&
                                            (TradelaneBookingForm.shipmentType.$dirty || submitted)">
                                                                    {{'ShipmentMethod' | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                                </span>


                                                            </div>
                                                            <div class="col-sm-1 paddingboth country">
                                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="China covers Guangdong Province only." popover-trigger="'outsideClick'">
                                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="clearfix col-sm-offset-4 col-sm-7 paddingboth">
                                                            <div>
                                                                <small><label for="shipmentTypeCheckbox" class="control-label"><input type="checkbox" ng-model="BBKBooking.PurchaseOrder.DefaultShipmentType"  required /> <span class="bottom2">Set as default</span></label></small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth" ng-class="{ 'has-error': TradelaneBookingForm.deliveryType.$invalid &&
                                                         (TradelaneBookingForm.deliveryType.$dirty || submitted) }">
                                                        <label for="deliveryType" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Factory_Dispatch_Type' | translate}} <span class="redColor">*</span></label>
                                                        <div class="col-sm-7 paddingboth" id="Xe">
                                                            <select class="form-control" name="deliveryType" ng-model="BBKBooking.PurchaseOrder.DeliveryType" id="deliveryType" required>
                                                                <option value="" disabled selected>{{'Select' | translate}} {{'Dispatch Type' | translate}} ({{'Required' | translate}})</option>
                                                                <option value="One By One">One By One</option>
                                                                <option value="Total PO Together">Total PO Together</option>
                                                            </select>
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.deliveryType.$invalid &&
                                            (TradelaneBookingForm.deliveryType.$dirty || submitted)">
                                                                {{'Factory_Dispatch_Type' | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.addIncoterm.$invalid &&
                                                         (TradelaneBookingForm.addIncoterm.$dirty || submitted) }">
                                                        <div class="clearfix">
                                                            <label for="addIncoterm" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Add_Incoterm' | translate}} <span class="redColor">*</span></label>
                                                            <div class="col-sm-7 paddingboth">
                                                                <select class="form-control" name="addIncoterm" id="addIncoterm"
                                                                        ng-model="BBKBooking.PurchaseOrder.IncotermId"
                                                                        ng-options="addIncoterm as addIncoterm.IncotermDisplayValue  for addIncoterm in Incoterms | orderBy:'OrderNumber' track by addIncoterm.IncotermID" required>
                                                                    <option value="" disabled selected>{{'Select' | translate}} {{'Add_Incoterm' | translate}} ({{'Required' | translate}})</option>
                                                                </select>
                                                                <span class="help-block has-error"
                                                                      ng-show="TradelaneBookingForm.addIncoterm.$invalid &&
                                            (TradelaneBookingForm.addIncoterm.$dirty || submitted)">
                                                                    {{'Add_Incoterm' | translate}} {{'Is' | translate}} {{'Required' | translate}}
                                                                </span>
                                                            </div>

                                                            <div class="col-sm-1 paddingboth country">
                                                                <a href="" class="padding7px" popover-placement="auto" uib-popover="China covers Guangdong Province only." popover-trigger="'outsideClick'">
                                                                    <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group paddingboth clearfix" ng-class="{ 'has-error': TradelaneBookingForm.ExFactoryDate.$invalid &&
                                                         (TradelaneBookingForm.ExFactoryDate.$dirty || submitted ) }">
                                                        <label for="ExFactoryDate" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Ex_Factory_Date' | translate}}  <span class="redColor">*</span></label>
                                                        <div class="input-group col-sm-7">
                                                            <div class="width100 clearfix">
                                                                <div class="width88">
                                                            <input type="text" class="form-control" name="ExFactoryDate" id="ExFactoryDate" readonly uib-datepicker-popup="{{format}}"
                                                                   ng-model="BBKBooking.PurchaseOrder.ExFactoryDate"
                                                                   ng-change="ChangeTodate(BBKBooking.PurchaseOrder.ExFactoryDate)"
                                                                   is-open="popup1.opened" datepicker-options="dateOptions"
                                                                   close-text="Close"
                                                                   alt-input-formats="altInputFormats"
                                                                   placeholder="{{'Ex_Factory_Date' | translate}}" required />
                                                                </div>
                                                                <div class="width120">
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                                            </span>
                                                                </div>
                                                            </div>
                                                            <span class="help-block has-error"
                                                                  ng-show="TradelaneBookingForm.ExFactoryDate.$invalid &&
                                                (TradelaneBookingForm.ExFactoryDate.$dirty || submitted)">
                                                                {{'Ex_Factory_Date'| translate}} {{'Is_Required' | translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                       
                                                    <div class="col-sm-12 directBookingBorder" style="width:92%"></div>
                                                    <div class="col-sm-12 form-group clearfix paddingboth">
                                                        <label for="customField1" class="col-sm-11 control-label paddingleft paddingright"><b>Custom Fields</b></label>
                                                        <div class="col-sm-1 paddingboth shipmentContent">
                                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="Custom Fields" popover-trigger="'outsideClick'">
                                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 form-group clearfix paddingboth">

                                                        <label for="customField1" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Custom_Field1' | translate}}  </label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <select ng-model='customname1bbk' name="customField1" id="customField1" class="form-control" ng-change="CustomF1Change(customname1bbk)" ng-options='customname1bbk as customname1bbk for customname1bbk in customName1bbk'>
                                                                <option value="" disabled selected>{{'Select' | translate}}</option>
                                                            </select>

                                                            <!--<input type="text" class="form-control" name="customField1" id="customField1" ng-model="customname1bbk" placeholder="{{'Custom_Field1' | translate}}" required />-->
                                                            <small>{{BBKBooking.CustomField1.CustomFieldName}}</small>
                                                        </div>
                                                        <div class="col-sm-1 paddingboth">

                                                            <a class="fix-ellipsis border pointer" ng-click="customField()">
                                                                <i class="fa fa-ellipsis-h help top2"></i>
                                                            </a>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 form-group clearfix paddingboth">

                                                        <label for="customField2" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Custom_Field2' | translate}} </label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <select ng-model='customnamebbk2' name="customField2" id="customField2" class="form-control" ng-change="CustomF2Change(customnamebbk2)" ng-options='customname2bbk as customname2bbk for customname2bbk in customName2bbk'>
                                                                <option value="" disabled selected>{{'Select' | translate}}</option>
                                                            </select>




                                                            <!--<input type="text" class="form-control" name="customField2" id="customField2" ng-model="customname2bbk" placeholder="{{'Custom_Field2' | translate}}" required />-->
                                                            <small>{{BBKBooking.CustomField2.CustomFieldName}}</small>



                                                        </div>
                                                        <div class="col-sm-1 paddingboth">
                                                            <a class="fix-ellipsis border pointer" ng-click="customField1()">
                                                                <i class="fa fa-ellipsis-h top2 help"></i>
                                                            </a>
                                                        </div>


                                                    </div>
                                                    <div class="col-sm-12 form-group clearfix paddingboth">
                                                        <label for="customField3" class="col-sm-4 lineheight24 control-label paddingleft paddingright">{{'Custom_Field3' | translate}} </label>
                                                        <div class="col-sm-7 paddingboth">
                                                            <select ng-model='customname3bbk' name="customField3" id="customField3" class="form-control" ng-change="CustomF3Change(customname3bbk)" ng-options='customname3bbk as customname3bbk for customname3bbk in customName3bbk'>
                                                                <option value="" disabled selected>{{'Select' | translate}}</option>
                                                            </select>


                                                            <!--<input type="text" class="form-control" name="customField3" id="customField3" ng-model="customname3bbk" placeholder="{{'Custom_Field3' | translate}}" required />-->
                                                            <small>{{BBKBooking.CustomField3.CustomFieldName}}</small>
                                                        </div>
                                                        <div class="col-sm-1 paddingboth">

                                                            <a class="fix-ellipsis border pointer" ng-click="customField2()">
                                                                <i class="fa fa-ellipsis-h top2 help"></i>
                                                            </a>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </section>
                                        <div class="form-group clearfix"></div>
                                        <div class="col-sm-12 paddingboth form-group">
                                            <!--product catalog code-->
                                            <div class="col-sm-12 paddingboth clearfix form-group">
                                                <div class="pull-right">
                                                    <button type="button" class="btn-simple btn-save" ng-click="productCatalog(selected)"><i class="fa fa-database"></i> Product Catalog</button>
                                                </div>
                                            </div>
                                            <!--end-->
                                            <div class="clearfix"></div>


                                            <!--panel code-->
                                            <div class="panel-default margin-bottom-none">
                                                <div class="panel-heading" style="padding:10px 0px 64px;">

                                                    <div class="width230 borderRight margin-10 height77 text-center word-break" style="border-right:2px solid #ddd !important;">
                                                        <p style="margin:9px 0px 0px;"><b>Job No.</b><br><small></small></p>
                                                    </div>

                                                    <div class="width230 borderRight margin-10 height77 text-center word-break" style="border-right:2px solid #ddd !important;">
                                                        <p style="margin:9px 0px 0px;"><b>Job Name</b><br><small></small></p>
                                                    </div>

                                                    <div class="width27 borderRight margin-10 height77 text-center word-break">
                                                        <p style="margin:9px 0px 0px;" class="shipmentContent">
                                                            <b>Description</b><br>
                                                            <a href="" class="padding7px" popover-placement="auto" uib-popover="Please fill a short description of the Contents of the Package." popover-trigger="'outsideClick'" style="bottom:4px;position:relative;">
                                                                <i class="fa fa-question-circle help" aria-hidden="true"></i>
                                                            </a>
                                                        </p>
                                                    </div>


                                                    <div class="width150 borderRight margin-10 height77 text-center word-break">
                                                        <p style="margin:9px -3px 0px;"><b>Order</b><br><small class="uppercase">(QTY)</small></p>
                                                    </div>

                                                    <div ng-if="expressBooking.ParcelType.ParcelDescription !== 'Letter (Doc)'">
                                                        <div class="width120 text-center margin-10 paddingT5">
                                                            <a href="" a-disabled="expressBooking.Service.HubCarrierId >0">

                                                                <p style="margin: 6px 0px 4px;">
                                                                    <b><span><span style="color:#4d5663 !important;">Add<br>More<br></span><i class="fa fa-plus" ng-click="AddPackage()" aria-hidden="true"></i></span></b>
                                                                </p>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>

                                                <ul class="panel-body padding0 expressBooking-textarea margin-bottom-none list-unstyled">
                                                    <li class="alternate" ng-repeat="element in BBKBooking.PurchaseOrderDetail" ng-init="packageForm='tags'+$index">
                                                        <ng-form name="{{packageForm}}">
                                                            <div style="padding:10px 0px 0px !important;">
                                                                <div class="width230 borderRight margin-10 border-bottom has-error" ng-class="{ 'has-error': TradelaneBookingForm[packageForm].cartton.$invalid &&
                                                         (TradelaneBookingForm[packageForm].cartton.$dirty || submitted) }" style="border-right:2px solid #ddd !important;">
                                                                    <input type="text" only-decimal name="cartton"  maxlength="10" ng-model="element.JobNo" class="form-control" style="width: 100%; margin:10px 0px 10px;" min="1" required>
                                                                </div>

                                                                <div class="width230 borderRight margin-10 border-bottom has-error" ng-class="{ 'has-error': TradelaneBookingForm[packageForm].cartton1.$invalid &&
                                                         (TradelaneBookingForm[packageForm].cartton1.$dirty || submitted) }" style="border-right:2px solid #ddd !important;">
                                                                    <input type="text" name="cartton1" maxlength="10" only-alphabets capitalize-first ng-model="element.JobName" class="form-control" style="width: 100%; margin:10px 0px 10px;" min="1" required>

                                                                </div>

                                                                <div class="width27 borderRight margin-10 border-bottom has-error" ng-class="{ 'has-error': TradelaneBookingForm[packageForm].content.$invalid &&
                                                         (TradelaneBookingForm[packageForm].content.$dirty || submitted) }" style="padding: 1px 6px 3px !important;">
                                                                    <div class="col-sm-12 paddingboth clearfix">
                                                                    <div class="width80">
                                                                    <textarea name="content" only-alphabets capitalize-first ng-model="element.Description" maxlength="20" class="form-control fix-textarea-panel" required></textarea>
                                                                    </div>
                                                                    <div class="width20 top9 quotation-tool">
                                                                        <a class="pointer" popover-placement="auto" uib-popover="Add to map product catalog" popover-trigger="'mouseenter'">
                                                                            <i class="fa fa-globe help" aria-hidden="true" ng-click="mapProductCatalog($index)"></i>
                                                                        </a>
                                                                    </div>
                                                                    </div>
                                                                </div>

                                                                <div class="width150 borderRight margin-10 border-bottom has-error" ng-class="{ 'has-error': TradelaneBookingForm[packageForm].currencyValue.$invalid &&
                                                         (TradelaneBookingForm[packageForm].currencyValue.$dirty || submitted) }">
                                                                    <input type="text" only-decimal name="currencyValue" maxlength="10" ng-model="element.OrderQTY" ng-change="orderQty(elements)" class="form-control" min="1" style="width: 100%; margin:10px 0px 10px;" required="">
                                                                </div>
                                                                <!--panel grid code-->
                                                                <div>
                                                                    <div>
                                                                        <div ng-if="elements.length==1" class="width1067 border-bottom text-center shipmentContent" style="padding:9px 0px 15px;">
                                                                            <span class="visibility">Hide</span>
                                                                        </div>
                                                                        <div ng-show="($middle || $first) && !$last" class="width1067 border-bottom text-center shipmentContent" style="padding:9px 0px 15px;">
                                                                            <a href="" a-disabled="expressBooking.Service.HubCarrierId >0" ng-click="RemovePackage(element)"><i class="fa fa-minus color-red" aria-hidden="true" popover-placement="auto" uib-popover="Remove Package" popover-trigger="'mouseenter'"></i></a>
                                                                        </div>
                                                                    </div>
                                                                    <div class="width1067 ">
                                                                        <div ng-show="$last && !$first && !middle" class="border-bottom text-center expressBooking-plus-minus-icon" style="padding: 2px 0px 1px;">
                                                                            <div class="shipmentContent">
                                                                                <a href="" a-disabled="expressBooking.Service.HubCarrierId >0" ng-click="RemovePackage(element)"><i class="fa fa-minus color-red" aria-hidden="true" popover-placement="auto" uib-popover="Remove Package" popover-trigger="'mouseenter'"></i></a>
                                                                            </div>
                                                                            <div style="border-top:1px solid #ddd;">
                                                                                <a href="" a-disabled="expressBooking.Service.HubCarrierId >0" ng-click="AddPackage()"><i class="fa fa-plus color-green" aria-hidden="true" popover-placement="auto" uib-popover="Add More" popover-trigger="'mouseenter'"></i></a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!--end-->

                                                                <div class="clearfix"></div>
                                                            </div>
                                                        </ng-form>
                                                    </li>
                                                </ul>

                                                <div class="col-sm-12 paddingboth flex grid-background">
                                                    <div class="width50 paddingleft padding-10" style="margin-left:5px;">Total Jobs:  {{TotalJobs}}</div>
                                                    <div class="word-break border-left-e5e5e5 padding-10">
                                                        Total Order <small>(QTY)</small>:  {{OrderQTY(BBKBooking.PurchaseOrderDetail)}}
                                                        <small class="uppercase"> </small>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <!--end-->
                                            <div class="clearfix"></div>
                                        </div>
                                    </section>
                                </uib-tab>
                                <!--end-->
                            </uib-tabset>
                        </div>
                        <!--end-->
                        <div class="clearfix"></div>
                    </div>
                </div>
                <!--end tab code-->
                <div class="clearfix"></div>
                <div class="col-sm-12 paddingboth padding20all">
                    <hr style="margin:10px 0px 10px;" />
                </div>
                <div class="clearfix"></div>


                <!--panel code here-->
                <div ng-if="BBKBooking.Service.HubCarrierId" class="col-sm-12 center paddingboth" id="pull-down" style="padding-top:15px;">
                    <div class="panel panel-default">
                        <div class="panel-heading text-left ng-binding">
                            <b class="ng-binding">{{'Selected_Service' | translate}}</b>
                        </div>
                        <div class="panel-body padding-bottom-none">
                            <div class="col-sm-12 paddingboth">
                                <div class="panel panel-default ng-scope" style="margin-bottom:10px !important;">
                                    <div class="panel-heading padding0">
                                        <div class="flex">
                                            <div class="width120 border-right paddingimp">
                                                <div>
                                                    <b>{{'Carrier' | translate}}</b>
                                                </div>
                                            </div>
                                            <div class="width74">
                                                <div class="col-sm-4 border-right paddingimp">
                                                    <b>{{'Service_Type' | translate}}</b>
                                                </div>
                                                <!--<div class="col-sm-4 border-right paddingimp">
                                                    <b>{{'Chargeable_Weight' | translate}} <span class="redColor">**</span></b>
                                                </div>-->
                                                <div class="col-sm-4 border-right paddingimp">
                                                    <b>{{'Transit_Time_' | translate}} <span class="redColor">*</span></b>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="width14 flex">
                                                <div class="width50 bordered-right paddingimp">
                                                    <div class="text-center">
                                                        <b>{{'Edit' | translate}}</b>
                                                    </div>
                                                </div>
                                                <div class="width50 paddingimp padding-left5 paddingboth">
                                                    <div class="text-center">
                                                        <b>{{'Remove' | translate}}</b>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="panel-body padding0">
                                        <div>
                                            <div class="col-sm-12 paddingboth flex">
                                                <div class="width120 border-right height90 word-break">
                                                    <div>
                                                        <span class="horizontally-center text-center width100">
                                                            <img class="img100x30" ng-src="{{BBKBooking.Service.ImageURL}}" style="position: relative;bottom: 0;left: 0;">
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="width74" style="min-height:70px;line-height:51px;">
                                                    <div class="flex">
                                                        <div class="bordered-right height90 word-break flex col-sm-4">
                                                            <span class="horizontally-center width100 ng-binding">{{BBKBooking.Service.RateType}}</span>
                                                        </div>
                                                        <!--<div class="bordered-right height90 word-break flex col-sm-4">
                                                            <span class="horizontally-center width100 ng-binding"> {{BBKBooking.Service.BillingWeight.toFixed(2)}} ({{'Kgs' | translate}})</span>
                                                        </div>-->
                                                        <div class="height90 word-break flex col-sm-4">
                                                            <span class="horizontally-center width100 ng-binding">{{BBKBooking.Service.TransitTime}}</span>
                                                        </div>
                                                        <div class="clearfix"></div>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="width14 center flex">
                                                    <div class="width50 bordered-left height90 word-break padding-none text-center flex" style="border-right:1px solid #ddd;">
                                                        <span class="horizontally-center text-center width100"><a href="" ng-click="GetServices(TradelaneBookingForm, BBKBooking); submitted=true"><i class="fa fa-pencil-square-o padding-10" aria-hidden="true" style="font-size:30px;"></i> </a></span>
                                                    </div>
                                                    <div class="width50 height90 padding-none text-center word-break flex">
                                                        <span class="horizontally-center text-center width100"><a href="" ng-click="cancelServices()"><i class="fa fa-bitbucket red delete-icon padding-10" aria-hidden="true"></i></a></span>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <!--end-->
                                            <div class="clearfix"></div>
                                        </div>
                                        <!--end-->
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <!--end-->

                <div class="clearfix"></div>
                <div class="col-sm-12 paddingboth">
                    <div id="text13" class="col-sm-12 paddingboth">
                        <div class="col-sm-6 paddingboth form-group">
                            <div class="col-sm-6 paddingboth">
                                <button type="button" ng-click="ClearForm(TradelaneBookingForm)" class="btn border-radius2 btn-lg btn-danger fontsize12" style="padding:11px 27px !important;"><i class="fa fa-eraser" aria-hidden="true"></i> {{' Clear_Form' | translate}}</button>
                            </div>
                            <div class="col-sm-6 paddingboth" id="saveLater">
                                <button type="button" ng-click="submitted=true; BookingType = 'Draft'; SaveDraftBooking(TradelaneBookingForm , TradelaneBookingForm.$valid, BBKBooking)" class="btn border-radius2 btn-lg btn-cancel fontsize12" style="color: #fff; padding:10px 20px 13px !important;"><i class="fa fa-floppy-o" aria-hidden="true"></i> {{'Save_Later' | translate}}</button> &nbsp; &nbsp;
                                <!--hawb popup code here-->
                                <!--<button type="button" ng-click="hawbPopup()" class="btn border-radius2 btn-lg btn-cancel fontsize12" style="color: #fff; padding:10px 20px 13px !important;"><i class="fa fa-floppy-o" aria-hidden="true"></i> HAWB Popup</button> &nbsp; &nbsp;-->
                                <!--end-->
                            </div>
                            <!--<div class="col-sm-12 paddingboth text-left">-->
                            <!--breakbulk shipment code here-->
                            <!--<button type="button" ui-sref="loginView.userTabs.breakbulk-Booking" class="btn-simple btn-lg btn-success"><i class="fa fa-book"></i> Breakbulk</button> &nbsp; &nbsp;
                <button type="button" ng-click="breakbulkShipmentDetail()" class="btn-simple btn-lg btn-info"><i class="fa fa-eye"></i> View Details</button> &nbsp; &nbsp;
                <button type="button" ui-sref="loginView.userTabs.breakbulk-shipment" class="btn-simple btn-lg btn-warning"><i class="fa fa-share"></i> Shipment Detail</button>-->
                            <!--end-->
                            <!--</div>-->
                        </div>
                        <div class="col-sm-6 paddingboth pull-right">
                            <div class="col-sm-6"> </div>
                            <div class="col-sm-6 paddingboth">
                                <div ng-if="!BBKBooking.Service.HubCarrierId">
                                    <button type="button" ng-click="ButtonValue = 'GetServices'; GetServices(TradelaneBookingForm, BBKBooking); submitted=true" class="btn btn-lg btn-primary fontsize25 border-radius2 pull-right getservice-padding col-sm-12 paddingboth">
                                        <i class="fa fa-briefcase" aria-hidden="true"></i> {{'Get_Services' | translate}}
                                    </button>
                                    <div class="clearfix"></div>
                                    <br />
                                </div>
                                <div ng-show="BBKBooking.Service.HubCarrierId">
                                    <button type="submit"
                                            ng-click="submitted=true; BookingType = 'JobPlaced'; ButtonValue = 'PlaceBooking'"
                                            class="btn btn-success btn-lg fontsize25 border-radius2 directbooking-padding pull-right col-sm-12 paddingboth">
                                        <i class="fa fa-check" aria-hidden="true"></i>
                                        {{'Place_Order' | translate}}
                                    </button>
                                    <div class="fontsize10 fontsize12 place-booking-term-condition">
                                        <a href="" class="text-right pointer frayte-blue" ng-click="setScroll('top')" ui-sref='public.term-and-condition' target="_blank"><i class="fa fa-plus" aria-hidden="true"></i> {{'Agree_Term_And_Condition' | translate}}</a>
                                    </div>
                                </div>
                            </div>                               
                            </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <br />
            </form>
        </div>
    </div>
</section>

<!--end-->
