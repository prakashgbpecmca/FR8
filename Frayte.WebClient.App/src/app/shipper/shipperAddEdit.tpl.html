<form name="ShipperForm" ng-submit="submit(ShipperForm.$valid, shipperDetail)" novalidate>
    <div class="panel panel-default">
        <div class="panel-heading">{{userType}} {{'BasicDetail' | translate}}</div>
        <div class="panel-body">
            <div>
                <div class="col-sm-6">
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.company.$invalid &&
                                                         (ShipperForm.company.$dirty || submitted) }">
                        <label class="control-label" for="company">{{'Company' | translate}} {{'Name' | translate}}</label>
                        <div>
                            <input type="text" id="company" name="company" ng-model="shipperDetail.CompanyName" class="form-control"
                                   placeholder="{{'Company' | translate}} {{'NamePlaceholder' | translate}}" required />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.company.$invalid &&
                                            (ShipperForm.company.$dirty || submitted)">
                                {{userType}}  {{'Company' | translate}} {{'NameValidationError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.contact.$invalid &&
                                            (ShipperForm.contact.$dirty || submitted) }">
                        <label class="control-label " for="contact">{{'Contact' | translate}}</label>
                        <div>
                            <input type="text" id="contact" name="contact" ng-model="shipperDetail.ContactName" class="form-control"
                                   placeholder="{{'ContactPlaceholder' | translate}}" required />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.contact.$invalid &&
                                            (ShipperForm.contact.$dirty || submitted)">
                                {{userType}} {{'ContactValidationError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6">
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.nickName.$invalid &&
                                        (ShipperForm.nickName.$dirty || submitted) }">
                        <label class="control-label " for="nickName">{{'NickName' | translate}}</label>
                        <div>
                            <input type="text" id="nickName" name="nickName" ng-model="shipperDetail.ShortName"
                                   placeholder="{{'NickNamePlaceholder' | translate}}" class="form-control" required />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.nickName.$invalid &&
                                            (ShipperForm.nickName.$dirty || submitted)">
                                {{userType}} {{'NickNameValidationError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.email.$invalid &&
                                                         (ShipperForm.email.$dirty || submitted) }">
                        <label class="control-label " for="email">{{'Email' | translate}}</label>
                        <div>
                            <input type="email" id="email" name="email" ng-model="shipperDetail.Email"
                                   class="form-control" placeholder="{{'EmailPlaceholder' | translate}}" required />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.email.$error.required &&
                                            (ShipperForm.email.$dirty || submitted)">
                                {{userType}} {{'EmailValidationError' | translate}}
                            </span>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.email.$error.email &&
                                            (ShipperForm.email.$dirty || submitted)">
                                {{'EmailNotValid' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6">              
                    <div class="form-group" ng-class="{'has-error': ShipperForm.telephone.$invalid && (ShipperForm.telephone.$dirty || submitted) ||
                                                                    (!ShipperForm.telephone.$invalid && ShipperForm.telephoneCode.$invalid && (ShipperForm.telephoneCode.$dirty || submitted))}">
                        <label class="control-label " for="telephoneCode">{{'Telephone' | translate}}</label>
                        <div>
                            <div class="countryCodeLeft">
                                <select id="telephoneCode" name="telephoneCode"
                                        ng-model="shipperDetail.TelephoneCode" ng-change="InitailDetailOfCountry(data,shipperDetail.TelephoneCode,countries)"
                                        ng-options="countryPhoneCode.Name + ' - (+' + countryPhoneCode.PhoneCode + ')' for countryPhoneCode in countryPhoneCodes | orderBy:'Name' track by '(+' + countryPhoneCode.PhoneCode + ')'"
                                        class="form-control" required>
                                    <option value="" disabled selected class="display-none">{{'CountryCodePlaceholder' | translate}}</option>
                                </select>
                            </div>
                            <div class="countryCodeRight">
                                <input type="text" id="telephone" name="telephone" ng-model="shipperDetail.TelephoneNo" only-numeric class="form-control"
                                       placeholder="{{'TelephonePlaceholder' | translate}}" required />
                            </div>
                            <div class="clearfix"></div>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.telephone.$invalid &&
                                            (ShipperForm.telephone.$dirty || submitted)">
                                {{userType}}  {{'TelephoneValidationError' | translate}}
                            </span>
                            <span class="help-block has-error"
                                  ng-show="!ShipperForm.telephone.$invalid && ShipperForm.telephoneCode.$invalid &&
                                            (ShipperForm.telephoneCode.$dirty || submitted)">
                                {{'CountryCodeValidationError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label " for="mobile">{{'Mobile' | translate}}</label>
                        <div>
                            <div class="countryCodeLeft">
                                <select id="mobileCode" name="mobileCode"
                                        ng-model="shipperDetail.MobileCode" ng-change="InitailDetailOfCountry(data,shipperDetail.MobileCode,countries)"
                                        ng-options="countryPhoneCode.Name + ' - (+' + countryPhoneCode.PhoneCode + ')' for countryPhoneCode in countryPhoneCodes | orderBy:'Name' track by '(+' + countryPhoneCode.PhoneCode + ')'"
                                        class="form-control">
                                    <option value="" selected class="display-none">{{'CountryCodePlaceholder' | translate}}</option>
                                </select>
                            </div>
                            <div class="countryCodeRight">
                                <input type="text" id="mobile" name="mobile" ng-model="shipperDetail.MobileNo" only-numeric class="form-control"
                                       placeholder="{{'MobilePlaceholder' | translate}}" />
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>

                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6">                    
                        <div class="row col-sm-6 form-group" ng-class="{ 'has-error': (ShipperForm.workingStartTime.$invalid || ShipperForm.workingStartTime.$error.pattern) &&
                                                     (ShipperForm.workingStartTime.$dirty || submitted) }">
                            <label class="control-label" for="workingStartTime">{{'OfficeStartTime' | translate}} <b> {{'Hours24' | translate}}</b></label>
                            <input type="text"
                                   class="form-control input-sm"
                                   placeholder="{{'TimePlaceholder' | translate}}"
                                   name="workingStartTime"
                                   ng-model="shipperDetail.WorkingStartTime"
                                   ui-mask="99:99"
                                   ng-pattern="/([0-2]|0[0-9]|1[0-9]|2[0-3]):?[0-5][0-9]$/" required style="width: 60px;" />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.workingStartTime.$invalid && !ShipperForm.workingStartTime.$error.pattern && (ShipperForm.workingStartTime.$dirty || submitted)">
                                {{'TimeValidationError' | translate}}
                            </span>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.workingStartTime.$error.pattern &&
                                                (ShipperForm.workingStartTime.$dirty || submitted)">
                                {{'TimeNotValid' | translate}}
                            </span>
                        </div>
                        <div class="col-sm-6 form-group" ng-class="{ 'has-error': (ShipperForm.workingEndTime.$invalid || ShipperForm.workingEndTime.$error.pattern) &&
                                                     (ShipperForm.workingEndTime.$dirty || submitted) }">
                            <label class="control-label" for="workingEndTime">{{'OfficeEndTime' | translate}} <b> {{'Hours24' | translate}}</b></label>
                            <input type="text"
                                   class="form-control input-sm"
                                   placeholder="{{'TimePlaceholder' | translate}}"
                                   name="workingEndTime"
                                   ng-model="shipperDetail.WorkingEndTime"
                                   ui-mask="99:99"
                                   ng-pattern="/([0-2]|0[0-9]|1[0-9]|2[0-3]):?[0-5][0-9]$/" required style="width: 60px;" />
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.workingEndTime.$invalid && !ShipperForm.workingEndTime.$error.pattern && (ShipperForm.workingEndTime.$dirty || submitted)">
                                {{'TimeValidationError' | translate}}
                            </span>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.workingEndTime.$error.pattern &&
                                                (ShipperForm.workingEndTime.$dirty || submitted)">
                                {{'TimeNotValid' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>                    
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FaxCode">{{'Fax' | translate}}</label>
                        <div>
                            <div class="countryCodeLeft">
                                <select id="FaxCode" name="FaxCode"
                                        ng-model="shipperDetail.FaxCode" ng-change="InitailDetailOfCountry(data,shipperDetail.FaxCode,countries)"
                                        ng-options="countryPhoneCode.Name + ' - (+' + countryPhoneCode.PhoneCode + ')' for countryPhoneCode in countryPhoneCodes | orderBy:'Name' track by '(+' + countryPhoneCode.PhoneCode + ')'"
                                        class="form-control">
                                    <option value="" selected class="display-none">{{'CountryCodePlaceholder' | translate}}</option>
                                </select>
                            </div>
                            <div class="countryCodeRight">
                                <input type="text" id="fax" name="fax" ng-model="shipperDetail.FaxNumber" only-numeric class="form-control" placeholder="{{'FaxPlaceholder' | translate}}" />
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6">
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.workingWeekDay.$invalid &&
                                (ShipperForm.workingWeekDay.$dirty || submitted) }">
                        <label class="control-label" for="workingWeekDay">{{'Working' | translate}} {{'Weekdays' | translate}}</label>
                        <div>
                            <select id="workingWeekDay" name="workingWeekDay"
                                    ng-model="shipperDetail.WorkingWeekDay"
                                    ng-options="WorkingWeekDay.Description for WorkingWeekDay in WorkingWeekDays | orderBy:'Description' track by WorkingWeekDay.WorkingWeekDayId"
                                    class="form-control" required>
                                <option value="" disabled selected class="display-none">{{'WeekdaysSelectedOption' | translate}}</option>
                            </select>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.workingWeekDay.$invalid &&
				   (ShipperForm.workingWeekDay.$dirty || submitted)">
                                {{userType}} {{'WeekdaysValidError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="vatGstNo">{{'VATNo' | translate}}</label>
                        <div>
                            <input type="text" id="vatGstNo" name="vatGstNo" placeholder="{{'VATNoPlaceHolder' | translate}}" ng-model="shipperDetail.VATGST" class="form-control" />
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6">                 
                    <div class="form-group" ng-class="{ 'has-error': ShipperForm.timeZone.$invalid &&
                                (ShipperForm.timeZone.$dirty || submitted) }">
                        <label class="control-label " for="timeZone">{{'TimeZone' | translate}}</label>
                        <div>
                            <select id="timeZone" name="timeZone"
                                    ng-model="shipperDetail.Timezone"
                                    ng-options="TimeZone.OffsetShort + ' - ' + TimeZone.Name  for TimeZone in timezones | orderBy:'Offset' track by TimeZone.TimezoneId"
                                    class="form-control" required>
                                <option value="" disabled selected class="display-none">{{'TimeZoneSelectedOption' | translate}}</option>
                            </select>
                            <span class="help-block has-error"
                                  ng-show="ShipperForm.timeZone.$invalid &&
                           (ShipperForm.timeZone.$dirty || submitted)">
                                {{'TimeZoneValidationError' | translate}}
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>

    <!--Main Address-->
    <div class="panel panel-default">
        <div class="panel-heading">{{'MainAddress' | translate}}</div>
        <div class="panel-body">
            <div class="col-sm-6">
                <div class="form-group" ng-class="{ 'has-error': ShipperForm.country.$invalid &&
                                        (ShipperForm.country.$dirty || submitted) }">
                    <label class="control-label" for="country">{{'Country' | translate}}</label>
                    <div>
                        <select id="country" name="country"
                                ng-model="shipperDetail.UserAddress.Country" ng-change="InitailDetailOfCountryCodes(data,countryPhoneCodes,shipperDetail.UserAddress.Country)"
                                ng-options="Country.Name for Country in countries | orderBy:'Name' track by Country.CountryId"
                                class="form-control" required>
                            <option value="" disabled selected class="display-none">{{'CountrySelectedOption' | translate}}</option>
                        </select>
                        <span class="help-block has-error"
                              ng-show="ShipperForm.country.$invalid &&
                        (ShipperForm.country.$dirty || submitted)">
                            {{userType}}  {{'CountryValidationError' | translate}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group" ng-class="{ 'has-error': ShipperForm.address.$invalid &&
                                                         (ShipperForm.address.$dirty || submitted) }">
                    <label class="control-label" for="address">{{'Address' | translate}}</label>
                    <div>
                        <input type="text" id="address" name="address" ng-model="shipperDetail.UserAddress.Address" class="form-control"
                               placeholder="{{'AddressPlaceholder' | translate}}" required />
                        <span class="help-block has-error"
                              ng-show="ShipperForm.address.$invalid &&
                                            (ShipperForm.address.$dirty || submitted)">
                            {{userType}} {{'AddressValidationError' | translate}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label" for="address2">{{'Address2' | translate}}</label>
                    <div>
                        <input type="text" id="address2" name="address2" ng-model="shipperDetail.UserAddress.Address2" class="form-control"
                               placeholder="{{'Address2' | translate}}" />
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label" for="address3">{{'Address3' | translate}}</label>
                    <div>
                        <input type="text" id="address3" name="address3" ng-model="shipperDetail.UserAddress.Address3" class="form-control"
                               placeholder="{{'Address3' | translate}}" />
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-sm-6">
                <div class="form-group" ng-class="{ 'has-error': ShipperForm.city.$invalid &&
                                                         (ShipperForm.city.$dirty || submitted) }">
                    <label class="control-label" for="city">{{'City' | translate}}</label>
                    <div>
                        <input type="text" id="city" name="city" ng-model="shipperDetail.UserAddress.City" class="form-control" only-alphabets
                               placeholder="{{'CityPlaceholder' | translate}}" required />
                        <span class="help-block has-error"
                              ng-show="ShipperForm.city.$invalid &&
                                            (ShipperForm.city.$dirty || submitted)">
                            {{userType}} {{'CityValidationError' | translate}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label" for="suburb">{{'Suburb' | translate}}</label>
                    <div>
                        <input type="text" id="suburb" name="suburb" ng-model="shipperDetail.UserAddress.Suburb" class="form-control"
                               placeholder="{{'Suburb' | translate}}" />
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-sm-6">
                <div class="form-group" ng-class="{ 'has-error': ShipperForm.state.$invalid &&
                                                         (ShipperForm.state.$dirty || submitted) }">
                    <label class="control-label" for="state">{{'State' | translate}}</label>
                    <div>
                        <input type="text" id="state" name="state" ng-model="shipperDetail.UserAddress.State" class="form-control" ng-disabled="setStateDisable"
                               only-alphabets
                               placeholder="{{'StatePlaceholder' | translate}}" ng-required="setStateAndZip(shipperDetail.UserAddress.Country.Code,'state')"/>
                        <span class="help-block has-error"
                              ng-show="ShipperForm.state.$invalid &&
                                            (ShipperForm.state.$dirty || submitted)">
                            {{userType}}   {{'StateValidationError' | translate}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group" ng-class="{ 'has-error': ShipperForm.postalCode.$invalid &&
                                                         (ShipperForm.postalCode.$dirty || submitted) }">
                    <label class="control-label" for="postalCode">{{'PostalCode' | translate}}</label>
                    <div>
                        <input type="text" id="postalCode" name="postalCode" ng-model="shipperDetail.UserAddress.Zip" class="form-control" ng-disabled="setZipDisable"
                               placeholder="{{'PostalCodePlaceholder' | translate}}" ng-required="setStateAndZip(shipperDetail.UserAddress.Country.Code,'zip')" />
                        <span class="help-block has-error"
                              ng-show="ShipperForm.postalCode.$invalid &&
                                            (ShipperForm.postalCode.$dirty || submitted)">
                            {{userType}} {{'PostalCodeValidationError' | translate}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>

    <!--Pickup Address Panel-->
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="floatLeft" ng-click="ShowHidePickupPanel()" style="margin-top: 9px; cursor: pointer;"><span><i ng-class="{'fa fa-plus-square-o' : !ShowPickupPanel, 'fa fa-minus-square-o' : ShowPickupPanel}" style="font-size: 20px; padding: 1px 10px 0px 0px; float: left;"></i></span><span>{{'PickupAddressBook' | translate}}</span></div>
            <div class="floatRight">
                <button type="button" ng-click="AddEditAddressBook(row)" class="btn-addPopup fontsize12">{{'AddAddress' | translate}}</button>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="panel-body" ng-if="ShowPickupPanel">
            <div data-ui-grid="gridOptionsAddressBook" data-ui-grid-resize-columns data-ui-grid-move-columns data-ui-grid-pinning data-ui-grid-selection data-ui-grid-exporter data-ui-grid-auto-resize class="myGrid fontsize12" style="min-height:170px !important;"></div>
        </div>
    </div>
    <div>
        <div class="floatLeft">
            <a href="" ng-click="goBack()" ng-if="isShipperLogin" class="btn-BigSecondary fontsize12"><i class="fa fa-times" aria-hidden="true"></i> {{'Cancel' | translate}}</a>
        </div>
        <div class="floatRight">
            <button type="submit" ng-click="submitted=true" class="btn-BigPrimary fontsize12"><i class="fa fa-floppy-o" aria-hidden="true"></i> &nbsp;{{'Save' | translate}} &nbsp;</button>
        </div>
        <div class="clearfix"></div>
    </div>
</form>