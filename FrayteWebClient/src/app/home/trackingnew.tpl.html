
<div ng-repeat="trackingInfo in trackingInfos" id="top" class="container">
    <h2 style="padding-bottom:15px;">{{'Tracking' | translate}} {{'Number' | translate}} - {{trackingInfo.TrackingNumber}}</h2>
    <div  style="padding-bottom:20px;">
        <div ng-attr-id="{{trackingInfo.TrackingNumber}}">
            <div style="border:1px solid #e0e0e0;">
                <div ng-if="trackingInfo.IsHeaderShow" class="col-sm-12" style="border:1px solid #e0e0e0;">
                    <div style="border-bottom:1px solid #e0e0e0;padding-top: 10px;">
                        <div class="col-sm-12 paddingleft paddingright">
                            <div class="col-sm-6">
                                <p><b>{{'Tracking' | translate}} {{'Number' | translate}} : </b>{{trackingInfo.TrackingNumber}}</p>
                                <p><b>{{'CreatedAt' | translate}} : </b> {{GetCorrectFormattedDate(trackingInfo.CreatedAtDate)}}<span ng-if="trackingInfo.CreatedAtDate === null">N/A</span></p>
                            </div>
                            <div class="col-sm-4 col-xs-10">
                                <p ng-show="trackingInfo.EstimatedDeliveryDate !== null"><b> {{'Estimated_Delivery_Date' | translate}} : </b><span ng-if="trackingInfo.EstimatedDeliveryDate !== null">{{GetCorrectFormattedDate(trackingInfo.EstimatedDeliveryDate)}}</span> <span ng-if="trackingInfo.EstimatedDeliveryDate === null">N/A</span></p>
                                <p ng-if="ShowDHLWeight"><b>{{'Decl_Est_Weight' | translate}}* : </b>{{GetEstimatedWeight(trackingInfo.EstimatedWeight)}} <span ng-if="trackingInfo.EstimatedWeight!== null">{{'Kgs' | translate}}</span> <span ng-if="trackingInfo.EstimatedWeight === null">N/A</span></p>
                            </div>
                            <div ng-if="trackingInfo.NoOfPieces>0" class="col-sm-2">
                                <div ng-click="IsPiecesShow =!IsPiecesShow" class="right-2" style="font-size:14px;"><a href="" class="frayte-blue"><i class="no-print frayte-orange" ng-class="{'fa fa-plus-square-o' : IsPiecesShow, 'fa fa-minus-square-o' : !IsPiecesShow}" aria-hidden="true" style="font-size:18px;"></i><span class="bottom2"> {{trackingInfo.NoOfPieces}} {{'Pieces' | translate}}</span></a></div>
                                <ul ng-if="!IsPiecesShow" class="list-unstyled">
                                    <li ng-repeat="PieceDetail in trackingInfo.TrackingPicesDetail.trackingReferences" style="padding:0px 20px 0px;"><a href="" class="frayte-blue"><span style="font-size:10px;">{{PieceDetail}}</span></a></li>

                                </ul>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>

                    <div class="col-sm-12 paddingleft paddingright" style="padding:5px;">
                        <div class="col-sm-6">
                            <p><b>{{'Status' | translate}} : </b><span class="trackingnew-caps">{{GetShipemtStatus(trackingInfo.Status)}}</span></p>
                            <p><b>{{'Updated' | translate}} {{'At' | translate}} : </b><span>{{GetCorrectFormattedDate(trackingInfo.UpdatedAtDate, trackingInfo.UpdatedAtTime)}}</span> </p>
                        </div>
                        <div class="col-sm-6 col-xs-10">
                            <p><b>{{'Carrier' | translate}} : </b>{{trackingInfo.Carrier}}</p>
                            <p ng-show="trackingInfo.SignedBy !== null && trackingInfo.SignedBy !== '' "><b>{{'POD' | translate}} : </b>{{trackingInfo.SignedBy}} <span ng-if="trackingInfo.SignedBy === null ||trackingInfo.SignedBy === '' ">N/A</span></p>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
                <div ng-if="!trackingInfo.IsShowHideDetail" class="panel panel-default" style="margin-bottom: 1px;">
                    <div class="col-sm-12" style="height:50px;">
                        <div style="width:30px; float:left;">
                            <span class="no-print" ng-click="ShowHidePickupPanel(trackingInfo)">
                                <a href="" style="font-size:24px;"><i ng-class="{'fa fa-plus-square-o' : trackingInfo.IsPanelShow, 'fa fa-minus-square-o' : !trackingInfo.IsPanelShow}" aria-hidden="true"></i></a>
                            </span>
                        </div>
                        <div ng-if="!parcelHub">
                            <div class="col-sm-2">
                                <h4 class="bottom2">{{'Date' | translate}}/{{'Time' | translate}}</h4>
                            </div>
                            <div class="col-sm-5"><h4 class="bottom2">{{'Activity' | translate}}</h4></div>
                            <div class="col-sm-4"><h4 class="bottom2">{{'Location' | translate}}</h4></div>
                        </div>
                        <div ng-if="parcelHub">
                            <div class="col-sm-3">
                                <h4 class="bottom2">{{'Date' | translate}}/{{'Time' | translate}}</h4>
                            </div>
                            <div class="col-sm-6"><h4 class="bottom2">{{'Activity' | translate}}</h4></div>
                            <div class="col-sm-2"><h4 style="margin-left: 33%;" class="bottom2">{{'Pieces' | translate}}</h4></div>
                        </div>

                    </div>
                    <div class="clearfix"></div>
                </div>

                <div ng-if="!trackingInfo.IsShowHideDetail" ng-repeat="item in trackingInfo.TrackingDetails | orderBy:['-Date'] track by $index" class="panel panel-default" style="margin-bottom: 1px;">
                    <div class="panel-heading" style="padding:20px;">
                        <div class="col-sm-12">
                            <div style="width:30px;float:left;margin-top: -12px;" ng-click="item.IsCollapsed =!item.IsCollapsed">
                                <span class="no-print">
                                    <a><i ng-class="{'fa fa-plus-square-o' : item.IsCollapsed, 'fa fa-minus-square-o' : !item.IsCollapsed}" aria-hidden="true" style="font-size:20px;"></i></a>
                                </span>
                            </div>
                            <div class="col-sm-2" style="margin-top:-12px;padding-left:0px;">
                                {{GetCorrectFormattedDatePanel(item.Date)}} - {{getDayName(item.Date)}}
                            </div>
                            <div class="col-sm-7"></div>
                            <div class="col-sm-2"></div>
                            <div class="clearfix"></div>
                        </div>
                    </div>

                    <div ng-repeat="detail in item.Detail | orderBy:'-Time'" ng-if="!item.IsCollapsed" class="panel-body" style="border: none;padding:4px;margin-bottom:1px;">
                        <div class="col-sm-12">
                            <div ng-if="!parcelHub">
                                <div class="col-sm-2" style="padding-left:45px;font-size:small">
                                    {{detail.Time}}
                                </div>
                                <div class="col-sm-5" style="padding-left:40px ;font-size:small">
                                    <p>{{detail.Activity}} <span ng-if="detail.Activity==='Delivered - Signed for by'">{{trackingInfo.SignedBy}}</span></p>
                                </div>
                                <div class="col-sm-4" style="padding-left:45px ; font-size:small">
                                    <div>{{detail.Location}} <span ng-if="detail.Location === null || detail.Location === ''">N/A</span></div>
                                </div>
                            </div>
                            <div ng-if="parcelHub">
                                <div class="col-sm-3" style="padding-left:45px;font-size:small">
                                    {{detail.Time}}
                                </div>
                                <div class="col-sm-7" style="padding-left:40px ;font-size:small">
                                    <p>{{detail.Activity}} <span ng-if="detail.Activity==='Delivered - Signed for by'">{{trackingInfo.SignedBy}}</span></p>
                                </div>
                                <div class="col-sm-2">
                                    <div ng-click="detail.IsCollapsed = !detail.IsCollapsed" style="font-size:14px;"><a href="" class="frayte-blue"><i class="no-print frayte-orange" ng-class="{'fa fa-plus-square-o' : !detail.IsCollapsed, 'fa fa-minus-square-o' : detail.IsCollapsed}" aria-hidden="true" style="font-size:18px;"></i><span class="bottom2"> {{detail.Pieces.length}} {{'Pieces' | translate}}</span></a></div>
                                    <ul ng-if="detail.IsCollapsed" class="list-unstyled">
                                        <li ng-repeat="Piece in detail.Pieces" style="padding:0px 20px 0px;" class="frayte-blue"><a><span style="font-size:10px;" class="frayte-blue">{{'Piece' | translate}}</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <!-- Shoew Hide and Print Functionality -->
                <div class="col-sm-12 no-print paddingboth" style="padding:20px;">
                    <div style="position:relative;top:12px;">
                        <div class="col-sm-2 pull-left">
                            <div>
                                <p style="cursor:pointer"><a ng-click="ShowHideDetail(trackingInfo)"><i class="fa fa-angle-right" aria-hidden="true"></i> {{ShowHideText(trackingInfo)}} {{'Details' | translate}}</a></p>
                            </div>
                        </div>
                        <div class="col-sm-8 paddingboth">
                            <p>
                                {{'Dedicated_Service_Team' | translate}} {{'Please_Contact' | translate}} <a href="tracking@{{FrayteWebsite}}">tracking@{{FrayteWebsite}}</a>
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <a ng-click="printToCart(trackingInfo.TrackingNumber)" class="btn-simple btn-lg btn-save">{{'Print' | translate}} <i class="fa fa-angle-double-right" aria-hidden="true"></i> </a>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <br />
        <!-- Shoew Hide and Print Functionality -->
        <div class="col-sm-12" style="padding:10px;">
            <div class="pull-left">
                <p style="cursor:pointer"><a ng-click="TrySearch(trackingInfo.TrackingNumber)"><i class="fa fa-angle-right" aria-hidden="true"></i> {{'try' | translate}} {{'A' | translate}} {{'New' | translate}} {{'Search' | translate}}</a></p>
            </div>
            <div class="pull-right">
                <p style="float:right; cursor:pointer;"><a ui-sref="public.trackingFAQ" target="_blank"> {{'Tracking' | translate}} {{'FAQ_s' | translate}}</a></p>
            </div>
        </div>
    </div>
</div>



